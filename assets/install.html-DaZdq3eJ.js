import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as o,a as c,w as s,b as a,d as n,r,o as u}from"./app-BS6G5FnF.js";const p={},d=a("p",null,"你可以选择以下三种方式安装Madokami",-1),m=a("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[a("pre",{class:"language-bash"},[a("code",null,[a("span",{class:"token function"},"docker"),n(" run "),a("span",{class:"token parameter variable"},"-d"),n(),a("span",{class:"token punctuation"},"\\"),n(`
  `),a("span",{class:"token parameter variable"},"--name"),a("span",{class:"token operator"},"="),n("Madokami "),a("span",{class:"token punctuation"},"\\"),n(`
  `),a("span",{class:"token parameter variable"},"-v"),n(` your_data_dir:/app/backend/data
  `),a("span",{class:"token parameter variable"},"-p"),n(),a("span",{class:"token number"},"8000"),n(":8000 "),a("span",{class:"token punctuation"},"\\"),n(`
  `),a("span",{class:"token parameter variable"},"--network"),a("span",{class:"token operator"},"="),n("bridge "),a("span",{class:"token punctuation"},"\\"),n(`
  `),a("span",{class:"token parameter variable"},"--restart"),n(" always "),a("span",{class:"token punctuation"},"\\"),n(`
  summerkirakira/madokami:latest
`)])]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"})])],-1),k=a("p",null,"在目标路径创建data文件夹",-1),b=a("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[a("pre",{class:"language-bash"},[a("code",null,[a("span",{class:"token function"},"mkdir"),n(),a("span",{class:"token parameter variable"},"-p"),n(` Madokami/data/aria2/downloads 
`),a("span",{class:"token builtin class-name"},"cd"),n(` Madokami
`)])]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"}),a("div",{class:"line-number"})])],-1),v=a("p",null,[n("创建一个名为"),a("code",null,"docker-compose.yml"),n("的文件，并把以下内容复制到其中。")],-1),h=a("p",null,"你可以通过",-1),g=a("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[a("pre",{class:"language-bash"},[a("code",null,[a("span",{class:"token builtin class-name"},"echo"),n(),a("span",{class:"token environment constant"},"$UID"),n(`
`),a("span",{class:"token builtin class-name"},"echo"),n(),a("span",{class:"token variable"},"$GID"),n(`
`)])]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"}),a("div",{class:"line-number"})])],-1),_=a("p",null,"获得当前用户的UID和GID值，之后把它们复制到下方高亮代码处中，如GID为空，留空即可。",-1),y=a("div",{class:"language-yaml line-numbers-mode","data-ext":"yml","data-title":"docker-compose.yml"},[a("pre",{class:"language-yaml"},[a("code",null,[a("span",{class:"token key atrule"},"version"),a("span",{class:"token punctuation"},":"),n(),a("span",{class:"token string"},'"3.8"'),n(`

`),a("span",{class:"token key atrule"},"services"),a("span",{class:"token punctuation"},":"),n(`
  `),a("span",{class:"token key atrule"},"madokami"),a("span",{class:"token punctuation"},":"),n(`
    `),a("span",{class:"token key atrule"},"image"),a("span",{class:"token punctuation"},":"),n(),a("span",{class:"token string"},'"summerkirakira/madokami:latest"'),n(`
    `),a("span",{class:"token key atrule"},"restart"),a("span",{class:"token punctuation"},":"),n(` always
    `),a("span",{class:"token key atrule"},"network_mode"),a("span",{class:"token punctuation"},":"),n(` bridge
    `),a("span",{class:"token key atrule"},"ports"),a("span",{class:"token punctuation"},":"),n(`
      `),a("span",{class:"token punctuation"},"-"),n(),a("span",{class:"token string"},'"8000:8000"'),n(`
    `),a("span",{class:"token key atrule"},"volumes"),a("span",{class:"token punctuation"},":"),n(`
      `),a("span",{class:"token punctuation"},"-"),n(" ./data"),a("span",{class:"token punctuation"},":"),n(`/app/backend/data

  `),a("span",{class:"token key atrule"},"aria2"),a("span",{class:"token punctuation"},":"),n(`
    `),a("span",{class:"token key atrule"},"image"),a("span",{class:"token punctuation"},":"),n(" p3terx/aria2"),a("span",{class:"token punctuation"},"-"),n(`pro
    `),a("span",{class:"token key atrule"},"restart"),a("span",{class:"token punctuation"},":"),n(` always
    `),a("span",{class:"token key atrule"},"ports"),a("span",{class:"token punctuation"},":"),n(`
      `),a("span",{class:"token punctuation"},"-"),n(),a("span",{class:"token string"},'"6800:6800"'),n(`
      `),a("span",{class:"token punctuation"},"-"),n(),a("span",{class:"token string"},'"6888:6888"'),n(`
      `),a("span",{class:"token punctuation"},"-"),n(),a("span",{class:"token string"},'"6888:6888/udp"'),n(`
    `),a("span",{class:"token key atrule"},"environment"),a("span",{class:"token punctuation"},":"),n(`
      `),a("span",{class:"token punctuation"},"-"),n(` RPC_SECRET=MADOKAMI
      `),a("span",{class:"token punctuation"},"-"),n(` RPC_PORT=6800
      `),a("span",{class:"token punctuation"},"-"),n(` LISTEN_PORT=6888
      `),a("span",{class:"token punctuation"},"-"),n(` UMASK_SET=022
      `),a("span",{class:"token punctuation"},"-"),n(` PUID=你的UID
      `),a("span",{class:"token punctuation"},"-"),n(` PGID=你的GID
    `),a("span",{class:"token key atrule"},"volumes"),a("span",{class:"token punctuation"},":"),n(`
      `),a("span",{class:"token punctuation"},"-"),n(" ./data/aria2/downloads"),a("span",{class:"token punctuation"},":"),n(`/downloads
      `),a("span",{class:"token punctuation"},"-"),n(" ./data/aria2/config"),a("span",{class:"token punctuation"},":"),n(`/config

  `),a("span",{class:"token key atrule"},"ariang"),a("span",{class:"token punctuation"},":"),n(`
      `),a("span",{class:"token key atrule"},"container_name"),a("span",{class:"token punctuation"},":"),n(` ariang
      `),a("span",{class:"token key atrule"},"image"),a("span",{class:"token punctuation"},":"),n(` p3terx/ariang
      `),a("span",{class:"token key atrule"},"command"),a("span",{class:"token punctuation"},":"),n(),a("span",{class:"token punctuation"},"-"),a("span",{class:"token punctuation"},"-"),n("port 6880 "),a("span",{class:"token punctuation"},"-"),a("span",{class:"token punctuation"},"-"),n(`ipv6
      `),a("span",{class:"token key atrule"},"network_mode"),a("span",{class:"token punctuation"},":"),n(` bridge
      `),a("span",{class:"token key atrule"},"ports"),a("span",{class:"token punctuation"},":"),n(`
        `),a("span",{class:"token punctuation"},"-"),n(" 6880"),a("span",{class:"token punctuation"},":"),a("span",{class:"token number"},"6880"),n(`
      `),a("span",{class:"token key atrule"},"restart"),a("span",{class:"token punctuation"},":"),n(" unless"),a("span",{class:"token punctuation"},"-"),n(`stopped
      `),a("span",{class:"token key atrule"},"logging"),a("span",{class:"token punctuation"},":"),n(`
        `),a("span",{class:"token key atrule"},"driver"),a("span",{class:"token punctuation"},":"),n(" json"),a("span",{class:"token punctuation"},"-"),n(`file
        `),a("span",{class:"token key atrule"},"options"),a("span",{class:"token punctuation"},":"),n(`
          `),a("span",{class:"token key atrule"},"max-size"),a("span",{class:"token punctuation"},":"),n(` 1m
`)])]),a("div",{class:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{class:"highlight-line"}," "),a("div",{class:"highlight-line"}," "),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br")]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"})])],-1),M=a("p",null,"配置完成后使用",-1),D=a("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[a("pre",{class:"language-bash"},[a("code",null,[a("span",{class:"token function"},"docker"),n(" compose up "),a("span",{class:"token parameter variable"},"-d"),n(`
`)])]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"})])],-1),f=a("p",null,"即可一键启动Madokami主项目，Aria2服务，Aria2 WebUI。",-1),I=a("p",null,"下载Madokami git仓库",-1),x=a("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[a("pre",{class:"language-bash"},[a("code",null,[a("span",{class:"token function"},"git"),n(` clone https://github.com/summerkirakira/Madokami.git
`),a("span",{class:"token builtin class-name"},"cd"),n(` Madokami/backend
`)])]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"}),a("div",{class:"line-number"})])],-1),T=a("p",null,"安装依赖",-1),w=a("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[a("pre",{class:"language-bash"},[a("code",null,[n("poetry "),a("span",{class:"token function"},"install"),n(`
`)])]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"})])],-1),A=a("p",null,"运行Madokami",-1),U=a("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[a("pre",{class:"language-bash"},[a("code",null,[n("python "),a("span",{class:"token parameter variable"},"-m"),n(` app.main
`)])]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"})])],-1),C=a("div",{class:"hint-container important"},[a("p",{class:"hint-container-title"},"注意"),a("p",null,[n("Madokami WebUI的默认用户名为"),a("code",null,"root"),n(", 默认密码为"),a("code",null,"123456")]),a("p",null,"别忘了在正常登录后进入设置修改用户名和密码！")],-1),P=a("p",null,[n("如正常启动，即可通过"),a("code",null,"http://localhost:8000"),n("访问Madokami的WebUI")],-1);function N(S,W){const l=r("Tabs");return u(),o("div",null,[d,c(l,{id:"3",data:[{id:"Docker"},{id:"Docker Compose"},{id:"本地部署"}],"tab-id":"install"},{title0:s(({value:e,isActive:t})=>[n("Docker")]),title1:s(({value:e,isActive:t})=>[n("Docker Compose")]),title2:s(({value:e,isActive:t})=>[n("本地部署")]),tab0:s(({value:e,isActive:t})=>[m]),tab1:s(({value:e,isActive:t})=>[k,b,v,h,g,_,y,M,D,f]),tab2:s(({value:e,isActive:t})=>[I,x,T,w,A,U]),_:1}),C,P])}const E=i(p,[["render",N],["__file","install.html.vue"]]),G=JSON.parse('{"path":"/startup/install.html","title":"部署Madokami","lang":"zh-CN","frontmatter":{"title":"部署Madokami","icon":"cubes","order":1,"category":["使用指南"],"tag":["Docker","Docker Compose","Python"],"description":"你可以选择以下三种方式安装Madokami 注意 Madokami WebUI的默认用户名为root, 默认密码为123456 别忘了在正常登录后进入设置修改用户名和密码！ 如正常启动，即可通过http://localhost:8000访问Madokami的WebUI","head":[["meta",{"property":"og:url","content":"https://madokami.biaoju.site/startup/install.html"}],["meta",{"property":"og:site_name","content":"Madokami用户指南"}],["meta",{"property":"og:title","content":"部署Madokami"}],["meta",{"property":"og:description","content":"你可以选择以下三种方式安装Madokami 注意 Madokami WebUI的默认用户名为root, 默认密码为123456 别忘了在正常登录后进入设置修改用户名和密码！ 如正常启动，即可通过http://localhost:8000访问Madokami的WebUI"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-05-26T01:16:24.000Z"}],["meta",{"property":"article:author","content":"Summerkirakira"}],["meta",{"property":"article:tag","content":"Docker"}],["meta",{"property":"article:tag","content":"Docker Compose"}],["meta",{"property":"article:tag","content":"Python"}],["meta",{"property":"article:modified_time","content":"2024-05-26T01:16:24.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"部署Madokami\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-05-26T01:16:24.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Summerkirakira\\",\\"url\\":\\"https://github.com/summerkirakira\\"}]}"]]},"headers":[],"git":{"createdTime":1716686184000,"updatedTime":1716686184000,"contributors":[{"name":"Hongpei Zheng","email":"zhenghongpei@gmail.com","commits":1}]},"readingTime":{"minutes":1.13,"words":340},"filePathRelative":"startup/install.md","localizedDate":"2024年5月26日","autoDesc":true}');export{E as comp,G as data};
